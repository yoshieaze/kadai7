# 課題07 PHP
## Docker + Laravelを利用して、CRUD機能を実装する

## 1. 操作方法、実装内容
### 課題説明
- 先週の課題から、追加で自分でメニューを追加、実装しました。
- ユーザー管理画面を作成し、管理者のみがアクセスできるようにしています
- 管理者は、ユーザー情報の参照、ロールの権限変更（管理者とユーザー）や氏名の変更ができます

### 操作方法
#### ログインまで
- Docker上で動作を確認しました。Makefileを用意してあり、ターミナルよりmake upでDockerが立ち上がります。
- localhost:8000でSimple Notesというタイトルとトップページが表示されます
- 背景画像はUnsplashのRandom機能を利用して読み込みごとに変わるようになっています
- 画面右上にLogin, Register(ログイン後はHome)が表示されます
- 新規ユーザーはRegister機能よりユーザー登録可能です。User Termなどは用意していません
- Loginできるユーザーはtest@test.comが管理者、test1@test.comがユーザーとして動作確認可能です。
- IsActiveをFalseにしたユーザーは、ログインができないよう制御しました。test5@test.comで確認できます

#### Home画面の説明
- 管理者権限でログインすると右側にUser Admin メニューが表示されます
- クリックするとユーザの一覧が表示されます
- サイドメニューの右横にハンバーガーメニューが表示されます。クリックするとサイドバーが最小化します

#### ユーザー管理画面の説明
- Actionの目のアイコンマークは、登録内容の確認ができます
- Actionの鉛筆マークは、登録内容の編集ができます
- 編集を開くと、名前、メールアドレス、IsActive(アクティブユーザーかどうか）、ロール（User／Administrator）を<br>
  変更できます。
- 変更をキャンセルする場合はキャンセルをクリックしてください

## 2. 実装の工夫
- 今回は、Generatorを使わずに自力で実装しました。
- Rolesテーブルをmigrationを利用して新設し、ロール名はUserテーブルと結合して持ってきています
- Loginロジック、Migration、モデル、Controllerの理解が深まりました
- LoginロジックにIsActiveを参照するために参考にしたページ 
  https://qiita.com/kd9951/items/748408547331517479a7

## 3. 感想、疑問点
- 編集画面のロールのプルダウンは、実際はテーブルから持ってきて動的にプルダウンが作成できたら
  良いだろうな、と思いつつ、２種類なのでハードコーディングしました。動的に生成する方法が
  多分あると思うので、今度調べてみたいと思います。





